<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:h="http://xmlns.jcp.org/jsf/html"
                 template="./../../WEB-INF/template/template_sin_menu2.xhtml"
                 xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                 xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                 xmlns:f = "http://java.sun.com/jsf/core"
                 xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
                 xmlns:p="http://primefaces.org/ui">


    <ui:define name="head2">
        <title>Nuevo Usuario</title>
        <link href="#{request.contextPath}/resources/css/Menu-borde.css" rel="stylesheet"/>
        
        <link href="#{request.contextPath}/resources/css/estilosFormularios.css" rel="stylesheet"/>
        
        
        
        <script src="#{request.contextPath}/resources/plugins/bootstrap/bootstrap.js" defer=""></script>
        <script src="#{request.contextPath}/resources/plugins/sweetalert/sweetalert.min.js" defer=""></script> 
        
            
            
                  <style>
          
                    
           
           
            .ui-inputfield{
                width: 100%;
            }
            input:invalid{
                border: 1px solid red;
            }
            .ui-inputfield:invalid{
                border: 1px solid red;
            }
          
            .ui-inputfield, .ui-widget-content .ui-inputfield, .ui-widget-header .ui-inputfield {
                background: #ffffff;
                -moz-box-shadow: inset 0 2px 2px transparent;
                -webkit-box-shadow: inset 0 2px 2px transparent; 
                box-shadow: inset 0 2px 2px transparent; 
            }
            .ui-inputfield, .ui-widget-content .ui-inputfield, .ui-widget-header .ui-inputfield:invalid {
                background: #ffffff;
                -moz-box-shadow: inset 0 2px 2px transparent;
                -webkit-box-shadow: inset 0 2px 2px transparent; 
                box-shadow: inset 0 2px 2px transparent; 
                border: 1px solid #C1C1C1;
            }
        </style>
    </ui:define> 


    <ui:define name="titulo">
        <f:view locale="#{sesionGestec.idiomaSeleccionado}">
            #{msjGestec.registroUsuarios}
        </f:view>
    </ui:define>

  

    <ui:define name="content2">
        <f:view locale="#{sesionGestec.idiomaSeleccionado}">
        
            
                    <c:if test="#{userController.nuevoUsuario==false}">           
        <div style="padding: 100px; ">
                
                <h:form>
                <div class="col-md-12 col-xs-12 inicio">
                    <h3 style="text-align: center">#{msjGestec.registroUsuarios}</h3>
                    <hr/>
                    
                    <div class="container col-xs-12">
                        <div class="row">
                        <div class="col-md-6 col-xs-12">
                            <div class="col-md-5 col-xs-12">
                                <h4>#{msjGestec.nombreUsuario}</h4>
                            </div>
                            <div class="col-md-7 col-xs-12">
                                <h:inputText id="nombreUsu" value="#{userController.usuarios.nombreUsuario}" 
                                             pt:placeholder="#{msjGestec.ingreseNombreUser}" class="form-control"
                                             
                                             validator="#{userController.validarNombre}"></h:inputText>
                                             
                                <h:message for="nombreUsu" style="color:red" styleClass="error"/>
                            </div>
                        </div>
                <div class="col-md-6">
                            <div class="col-md-5">
                                <h4>#{msjGestec.apellidoUsuario}</h4>
                            </div>
                            <div class="col-md-7">
                                <h:inputText id="apellido" value="#{userController.usuarios.apellido}" 
                                             pt:placeholder="#{msjGestec.ingreseApellidos}" class="form-control"
                                             required="true"
                                             requiredMessage="#{msjGestec.ingreseApellidos}"
                                             validatorMessage="#{msjGestec.noNumerosEsp}">
                                             <f:validateRegex pattern="[a-zA-Z]{1,15}"/>
                                             
                                             </h:inputText>
                    <h:message for="apellido" style="color:red" styleClass="error"/>
                            </div>
                        </div>
                         </div>
                        
                        
                        <div class="row">
                        <div class="col-md-6 ">
                            <div class="col-md-5 inputs">
                                <h4>#{msjGestec.tipoDocumento}</h4>
                            </div>
                            <div class="col-md-7 ">
                                <h:selectOneMenu  id="documen" value="#{userController.usuarios.tipoDocumento}" class="form-control"
                                                 required="true" 
                                                 requiredMessage="#{msjGestec.seleccioneDocumento}">
                                    <f:selectItem itemLabel="#{msjGestec.seleccioneDocumento}" class="form-horizontal"/>
                                    <f:selectItem itemValue="CC" itemLabel="#{msjGestec.cedulaCiudadania}" class="form-horizontal"/>
                                    <f:selectItem itemValue="CE" itemLabel="#{msjGestec.cedulaExtranjera}" class="form-horizontal"/>     
                                    <f:selectItem itemValue="Otro" itemLabel="#{msjGestec.otro}" class="form-horizontal"/>
                               
                                </h:selectOneMenu>
                                <h:message for="documen" style="color:Red" styleClass="error"/>
                            </div>
                        </div>
                        
                        <div class="col-md-6 inputs">
                            <div class="col-md-5 ">
                                <h4>#{msjGestec.documentoNum}</h4>
                            </div>
                            <div class="col-md-7">
                                <h:inputText id="num" value="#{userController.usuarios.documento}" 
                                             pt:placeholder="#{msjGestec.ingreseNumeroDoc}" class="form-control"
                                             
                                             validator="#{userController.validarDocumento}"
                                             validatorMessage="#{msjGestec.documentoNoValido}">
                                    <f:validateLength minimum="8" maximum="12"/>
                                </h:inputText>
                                <h:message for="num" style="color:Red" styleClass="error"/>
                            </div>
                        </div>
                        </div>
                        <div class="row">
                        <div class="col-md-6 inputs" >
                            <div class="col-md-5">
                                <h4>#{msjGestec.contra}</h4>
                            </div>
                            <div class="col-md-7">
                                <h:inputSecret id="contra" value="#{userController.con}" 
                                               pt:placeholder="#{msjGestec.contra}" class="form-control"
                                               required="true"
                                               requiredMessage="#{msjGestec.digiteContra}">
                                                                   <f:ajax event="change" 
                                                                   listener="#{userController.valContra}"
                                                                           execute="contra"/>                             
                                                               </h:inputSecret>
                                
                                <h:message for="contra" style="color:Red" styleClass="error"/>
                            </div>
                        </div>
                        
                        <div class="col-md-6 inputs">
                            <div class="col-md-5">
                                <h4>#{msjGestec.confirmarContra}</h4>
                            </div>
                            <div class="col-md-7">
                                <h:inputSecret id="confirmar" value="#{userController.confirmarContra}" 
                                               pt:placeholder="#{msjGestec.confirmarContra}" 
                                               class="form-control"
                                               
                                               validator="#{userController.validarContrasena}"/>
                                <h:messages for="confirmar" style="color:red" styleClass="error"/>
                            </div>
                        </div>
                            </div>
                        <div class="row">
                        <div class="col-md-6 ">
                            <div class="col-md-5 inputs">
                                <h4>#{msjGestec.tipoUser}</h4>
                            </div>
                            <div class="col-md-7">
                                <h:selectOneMenu id="tipoU" value="#{userController.usuarios.tipoUsuario}" class="form-control"
                                                 required="true"
                                                 requiredMessage="#{msjGestec.seleccioneTipoUser}">
                                    <f:selectItem itemLabel="#{msjGestec.seleccioneTipoUser}" class="form-horizontal"/>
                                    <f:selectItem itemValue="Tecnico" itemLabel="#{msjGestec.tecnico}" class="form-horizontal"/>
                                    <f:selectItem itemValue="Cliente" itemLabel="#{msjGestec.cliente}" class="form-horizontal"/>
                                 
                                </h:selectOneMenu>
                                <h:message for="tipoU" style="color:red" styleClass="error"/>
                            </div>
                        </div>
                        
                        <div class="col-md-6 ">
                            <div class="col-md-5 inputs">
                                <h4>#{msjGestec.genero}</h4>
                            </div>
                            <div class="col-md-7">
                                <h:selectOneMenu id="genero" value="#{userController.usuarios.sexo}" class="form-control"
                                                 required="true"
                                                 requiredMessage="#{msjGestec.indiqueGenero}">
                                    <f:selectItems value="#{userController.genero()}"/>
                                 
                                </h:selectOneMenu>
                                <h:message for="genero" style="color:red" styleClass="error"/>
                            </div>
                        </div>
                        </div>
                        <div class="row">
                        
                        <div class="col-md-6 inputs" >
                            <div class="col-md-5">
                                <h4>#{msjGestec.fechaNacimiento}</h4>
                            </div>
                            <div class="col-md-7">
                                            
                                    
                                                 <!--<h:inputText id="calendario" value="#{userController.confirmarContra}"
                                                         class="tcal form-control"
                                                         pt:placeholder="Seleccione una fecha"
                                                         required="true"
                                                         requiredMessage="Seleccione una fecha"/>-->
                                                         
                                       <p:calendar id="calendario" value="#{userController.date2}" pattern="yyyy-MM-dd"  
                                        style="width: 100%"
                                        validator="#{userController.validarFecha}"
                                        placeholder="#{msjGestec.ingreseFechaNac}"/>
                                
                            <h:message for="calendario" style="color:Red" styleClass="error" />
                                

                                </div>
                        </div>
                        
                        <div class="col-md-6 inputs">
                            <div class="col-md-5">
                                <h4>#{msjGestec.discapacidad}</h4>
                            </div>
                            <div class="col-md-7">
                                <h:inputText id="disc" value="#{userController.usuarios.discapacidad}" 
                                             pt:placeholder="#{msjGestec.indiqueDiscapacidad}" 
                                               class="form-control"
                                               required="true"
                                               requiredMessage="#{msjGestec.escribaSiNoDisc}"
                                               validatorMessage="#{msjGestec.noNumerosEsp}">
                                <f:validateRegex pattern="[a-zA-Z]{1,15}"/> 
                                                   </h:inputText>               
                                <h:message for="disc" style="color:red" styleClass="error"/>                
                            </div>
                        </div>
                            </div>
                        <!-- Telefono -->
                        <div class="row">
                        <div class="col-md-6 inputs">
                            <div class="col-md-5">
                                <h4>#{msjGestec.direccionCorreo}</h4>
                            </div>
                            <div class="col-md-7">
                                <h:inputText id="correo"
                                             value="#{userController.usuarios.correo}" 
                                             pt:placeholder="#{msjGestec.correoElectronico}" class="form-control"                                                    
                                             validatorMessage="#{msjGestec.escribaCorreoValido}"
                                             validator="#{userController.validarCorreo}">
                                     <f:validateRegex
                    pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                                </h:inputText>
                                <h:message for="correo" style="color:Red" styleClass="error"/>
                            </div>
                        </div>
                            <div class="col-md-6"></div>
                       </div>
                        <div class="row">
                            <hr/>
                      <div class="col-md-6 ">
                        
                            <div class="col-md-5 inputs">
                                <h4>#{msjGestec.tipoTelefono}</h4>
                            </div>
                            <div class="col-md-7">
                               
                                <h:selectOneMenu id="telefono" value="#{userController.telefono.tipoTelefono}" 
                                                 class="form-control"
                                                 required="true"
                                                 requiredMessage="#{msjGestec.seleccioneTipoTelefono}">
                                    <f:selectItem itemLabel="#{msjGestec.seleccioneTipoTelefono}" class="form-horizontal"/>
                                    <f:selectItem itemValue="Movil" itemLabel="#{msjGestec.telefonoMovil}" class="form-horizontal"/>
                                    <f:selectItem itemValue="Fijo" itemLabel="#{msjGestec.telefonoFijo}" class="form-horizontal"/>
                                    <f:selectItem itemValue="Otro" itemLabel="#{msjGestec.otro}" class="form-horizontal"/>              
                                </h:selectOneMenu>
                                <h:message for="telefono" style="color:red" styleClass="error"/>
                            </div>
                        </div>
                        
                        <div class="col-md-6 inputs">
                            
                            <div class="col-md-5">
                                <h4>#{msjGestec.numeroTelefono}</h4>
                            </div>
                            <div class="col-md-7">
                                <h:inputText id="numTel" value="#{userController.telefono.numeroTelefono}" 
                                             pt:placeholder="#{msjGestec.ingreseTelefono}" 
                                             class="form-control"
                                             required="true"
                                             requiredMessage="#{msjGestec.ingreseTelefono}"
                                             validatorMessage="#{msjGestec.numeroNoValido}">
                                    <f:validateLength minimum="7" maximum="12"/>
                                </h:inputText>
                                <h:message for="numTel" style="color:red" />
                            </div>
                        </div>
                        </div> 
                        <div class="row">
                             <div class="col-md-6 inputs" >
                            <div class="col-md-5">
                                <h4>#{msjGestec.localidad}</h4>
                            </div>
                            <div class="col-md-7">
                               
                            <h:selectOneMenu id="localidad" 
                                             class="form-control" 
                                             style="margin-top:0"
                                             value="#{userController.numeroLocalidad}"
                                             required="true"
                                             requiredMessage="#{msjGestec.seleccioneLocalidad}">
                             
                                <c:forEach items="#{userController.localidades}" var="l">
                                    <f:selectItem itemLabel="#{l.nombreLocalidad}" itemValue="#{l.idLocalidad}"/>
                                </c:forEach>
                                <f:ajax event="change" listener="#{userController.llenarBarrios}" render="barrio"
                                        execute="@this"/>
                            </h:selectOneMenu>
                                <h:message for="localidad" style="color:Red" styleClass="error"/>
                               </div>
                        </div>
                        
                        <div class="col-md-6 inputs">
                            <div class="col-md-5">
                                <h4>#{msjGestec.barrio}</h4>
                            </div>
                            <div class="col-md-7">
                                
                                
                                
                            <h:selectOneMenu id="barrio" 
                                             class="form-control" 
                                             style="margin-top:0"
                                             value="#{userController.barrio.nombreBarrio}">
                                             
                                
                                <f:selectItems value="#{userController.barrioss}"/>

                            </h:selectOneMenu>
                                <h:message for="barrio" style="color:red" styleClass="error"/>
                                
                        
                            </div>
                            
                        </div>
                        <div class="col-md-6 inputs">
                        <div class="col-md-5">
                            <h4>#{msjGestec.indiqueEspecialidad}</h4>
                        </div>
                        <div class="col-md-7">
                            <h:selectOneMenu id="especialidad" class="form-control" 
                                             value="#{userController.especialidad.especialidad}"
                                             required="true"
                                             requiredMessage="#{msjGestec.indiqueEspecialidad}">
                                
                                <f:selectItems value="#{userController.especialidad()}"/>
                            </h:selectOneMenu>
                            <h:message for="especialidad" style="color:red" styleClass="error"/>
                        </div>
                            </div>
                        <div class="col-md-6">
                           
                        </div>
                        
                        </div>
                        <div class="row">
                            <hr/>
                            <div class="col-md-12">
                                <center><h4>#{msjGestec.informacionDireccion}</h4></center>
                                <br/>
                            </div>
                            <div class="col-md-12">
                                <div class="col-md-3">
                                    <h:inputText id="tipoVia" value="#{userController.direccion.tipoVia}" 
                                                 pt:placeholder="#{msjGestec.tipoVia}" 
                                                 class="form-control"
                                                 required="true"
                                                 requiredMessage="#{msjGestec.campoObligatorio}"
                                                 validatorMessage="#{msjGestec.noValido}">
                                    <f:validateRegex pattern="[a-zA-Z]{1,15}"/>
                                    </h:inputText>
                                    <h:message for="tipoVia" style="color:red" styleClass="error"/>
                                </div>
                                <div class="col-md-3">
                                    <h:inputText id="numeroVia" value="#{userController.direccion.numeroVia}" 
                                                 pt:placeholder="#{msjGestec.numeroVia}" 
                                                 class="form-control"
                                                 required="true"
                                                 requiredMessage="#{msjGestec.campoObligatorio}"
                                                 validatorMessage="#{msjGestec.noValido}">
            <f:validateLength minimum="1" maximum="1000"/>
                                    </h:inputText>
                                    <h:message for="numeroVia" style="color:Red" styleClass="error"/>
                                </div>
                                <div class="col-md-3">
                                    <h:inputText id="complementoVia" value="#{userController.direccion.complementoVia}" 
                                                 pt:placeholder="#{msjGestec.complementoVia}" class="form-control"
                                                 required="true"
                                                 requiredMessage="#{msjGestec.campoObligatorio}"/>
                                    <h:message for="complementoVia" style="color:Red" styleClass="error"/>
                                </div>
                                <div class="col-md-3">
                                    <h:inputText id="numeroVia2" value="#{userController.direccion.numeroVia2}" 
                                                 pt:placeholder="#{msjGestec.numeroVia} 2" class="form-control"
                                                 required="true"
                                                 requiredMessage="#{msjGestec.campoObligatorio}"
                                                 validatorMessage="#{msjGestec.noValido}">
                                         <f:validateLength minimum="1" maximum="1000"/>
                                         </h:inputText>
                                    <h:message for="numeroVia2" style="color:red" styleClass="error"/>
                                </div>
                                
                                
                            </div>
                            
                             <div class="col-md-12 inputs">
                                <div class="col-md-4">
                                    <h:inputText id="complementoVia2" value="#{userController.direccion.complementoVia2}" 
                                                 pt:placeholder="#{msjGestec.complementoVia2}" class="form-control"
                                                 required="true"
                                                 requiredMessage="#{msjGestec.campoObligatorio}"/>
                                    <h:message for="complementoVia2" style="color:Red" styleClass="error"/>
                                </div>
                                <div class="col-md-4">
                                    <h:inputText id="numeroCasaa" value="#{userController.direccion.numeroCasa}" 
                                                 pt:placeholder="#{msjGestec.numeroCasa}" class="form-control"
                                                 required="true"
                                                 requiredMessage="#{msjGestec.campoObligatorio}"
                                                 validatorMessage="#{msjGestec.noValido}">
                                                 <f:validateLength minimum="1" maximum="1000"/>
                                    </h:inputText>
                                    <h:message for="numeroCasaa" style="color:red" styleClass="error"/>
                                </div>
                                <div class="col-md-4">
                                    <h:inputText id="complemento" value="#{userController.direccion.complemento}" 
                                                 pt:placeholder="#{msjGestec.complemento}" class="form-control"
                                                 required="true"
                                                 requiredMessage="#{msjGestec.campoObligatorio}"
                                                 validatorMessage="#{msjGestec.noValido}">
                                        <f:validateRegex pattern="[a-zA-Z]{1,18}"/>
                                    </h:inputText>
                                    <h:message for="complemento" style="color:red" styleClass="error"/>
                                </div>
                                
                            <hr/>
                            <br/>
                            </div>
                        </div>
                    </div>
                </div>
                    
                
                <p:dialog modal="true" resizable="false" 
                              header="values"
                              widgetVar="dlg"
                              showEffect="fold">
                        <p:panelGrid id="display" columns="2" columnClasses="label,value">
                            <h:outputText value="popup: "/>
                            <h:outputText value="#{userController.date2}">
                                <f:convertDateTime pattern="yyyy-MM-dd"/>
                            </h:outputText>
                        </p:panelGrid>
                    </p:dialog>
               
                    <h:commandButton actionListener="#{userController.registrarUsuario()}" value="#{msjGestec.registrar1}" class="btn btn-primary form-control"/>
               
                </h:form>
                 <a href="#{request.contextPath}/faces/index.xhtml"><h:inputText value="#{msjGestec.volver}" class="btn btn-default form-control"></h:inputText></a>
                     
                
        </div>
               </c:if>
            <c:if test="#{userController.nuevoUsuario==true}">
            
                 <div style="padding: 100px;margin-bottom: 25%;">
                <div>
                    
                </div>
                <div class="col-md-3"></div>
                <div class="col-md-6">
                    <h:form style="border-radius: 25px;border: 1px solid gray">
                        <div style="padding: 10px 20px;">
                            <center><h3><h:graphicImage width="100" library="img" name="gestec.jpg"/>
                                    #{msjGestec.registroCompletado}!</h3></center>
                            <hr style="border: 1px solid black"/>
                            <div class="row">
                            <div class="col-md-6">
                                <br/>
                                <center><h:graphicImage width="100" library="img" name="buena.png"/></center>
                            </div>
                                <div class="col-md-6">
                                    <h3>#{msjGestec.correoEnviado}</h3>
                                </div>
                            </div>
                            <hr style="border: 1px solid black"/>
                            <h:commandButton actionListener="#{userController.salir()}" class="btn btn-default form-control" value="#{msjGestec.salir}"/>
                        </div>
                    </h:form>
                </div>
                <div class="col-md-3"></div>
            </div>
            </c:if>
          
        </f:view>
        
        
    </ui:define>

</ui:composition>


